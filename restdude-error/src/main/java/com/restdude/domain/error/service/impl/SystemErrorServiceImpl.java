/**
 *
 * Restdude
 * -------------------------------------------------------------------
 *
 * Copyright Â© 2005 Manos Batsis (manosbatsis gmail)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
package com.restdude.domain.error.service.impl;

import com.restdude.domain.cases.model.CaseWorkflow;
import com.restdude.domain.cases.model.dto.CaseCommenttInfo;
import com.restdude.domain.error.model.ErrorComment;
import com.restdude.domain.error.model.ErrorLog;
import com.restdude.domain.error.model.ErrorsApplication;
import com.restdude.domain.error.model.SystemError;
import com.restdude.domain.error.repository.SystemErrorRepository;
import com.restdude.domain.error.service.SystemErrorService;
import com.restdude.domain.users.model.User;
import lombok.extern.slf4j.Slf4j;

import javax.inject.Named;
import java.time.LocalDateTime;
import java.util.List;

@Slf4j
@Named(SystemErrorService.BEAN_ID)
public class SystemErrorServiceImpl extends AbstractErrorServiceImpl<SystemError, SystemErrorRepository>
        implements SystemErrorService {


    @Override
    public CaseWorkflow getWorkflow() {
        if(this.workflow == null){
            this.workflow = this.repository.getWorkflow();
        }
        return this.workflow;
    }

    @Override
    public String getWorkflowName(){
        return SystemErrorRepository.ERRORS_WORKFLOW_NAME;
    }
    public String getWorkflowTitle(){
        return SystemErrorRepository.ERRORS_WORKFLOW_TITLE;
    }
    public String getWorkflowDescription(){
        return SystemErrorRepository.ERRORS_WORKFLOW_DESCRIPTION;
    }

    /**
     * {@inheritDoc}
     */
    @Override
    protected void initDataOverride(User systemUser){
        super.initDataOverride(systemUser);
        this.initSystemErrors(systemUser);
    }


    /**
     * {@inheritDoc}
     */
    public Integer getCaseIndex(SystemError persisted){
        return this.repository.getCaseIndex(persisted);
    }

    /**
     * {@inheritDoc}
     */
    public List<CaseCommenttInfo> getCompactCommentsBySubject(SystemError subject){
        return this.repository.getCompactCommentsBySubject(subject);
    }

    protected void initSystemErrors(User systemUser) {
        String[] lorem = {"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque imperdiet maximus enim, suscipit porta est sodales nec. Ut fermentum et dolor vitae elementum. Nulla facilisi. Aenean rutrum non nunc ac sollicitudin. Fusce scelerisque turpis ac metus pellentesque vulputate. Vivamus velit orci, egestas eu lacus iaculis, egestas bibendum dolor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eget mi vehicula, porta nisl non, facilisis eros. Pellentesque eget finibus mauris. Donec et consequat ligula, eu luctus dolor. Sed interdum, velit non semper fringilla, velit erat molestie velit, sit amet condimentum sem lectus ut tortor. Aenean id arcu a massa sodales fermentum quis vulputate nunc. Quisque sodales id orci vitae porta. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras eu nulla a mauris convallis elementum.",
                "Vivamus non ante ante. Sed non viverra est. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus facilisis nunc lectus, vel posuere erat viverra eget. Quisque mauris neque, condimentum nec bibendum ut, tempor nec lectus. Vestibulum eget tempor enim, sed finibus nisl. Integer eu nulla arcu.",
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eu nulla a augue fermentum commodo. Nullam sollicitudin nisl ac consectetur varius. Donec lectus lectus, bibendum quis arcu a, bibendum aliquam neque. Donec ante massa, facilisis eu ex vitae, facilisis egestas augue. Donec porta justo quis facilisis porttitor. Donec ante tortor, consequat eu rhoncus nec, ultrices vitae risus. Curabitur ex elit, tempus a metus pharetra, tincidunt scelerisque metus.",
                "Praesent consequat nisl quis arcu vehicula pharetra. In consequat dolor sit amet tellus eleifend pharetra. Pellentesque nisi erat, vulputate et ornare eu, efficitur at lorem. In sed ligula eget ex consectetur auctor. Praesent molestie fermentum augue, posuere cursus tortor accumsan eget. Etiam elementum, ante vitae blandit porta, ipsum purus luctus diam, in pretium urna arcu sed orci. Pellentesque aliquam nibh maximus felis euismod molestie. Sed et consequat diam. Mauris urna elit, lacinia a nisl at, viverra lobortis massa. Donec sem magna, fringilla nec bibendum ut, fermentum in ipsum. Aliquam consequat id tellus iaculis mollis.",
                "Sed metus mauris, tempus ut sodales nec, tempor ac nisi. Cras sed dui ac diam blandit interdum eget in quam. Proin lectus magna, vehicula vel augue sit amet, commodo bibendum urna. Aliquam diam massa, semper quis elementum non, congue a justo. In nec sodales ante. Nullam venenatis odio ut leo iaculis ornare. Nulla suscipit felis nunc. Phasellus fermentum, neque nec luctus laoreet, sapien purus ultrices arcu, ut sollicitudin libero erat eu neque. Phasellus hendrerit massa sit amet luctus scelerisque. Morbi erat nunc, viverra vel hendrerit id, fringilla eu est. Mauris leo ex, elementum nec convallis a, feugiat sit amet mauris. Vivamus hendrerit libero id hendrerit elementum.",
                "Aenean a leo sed tortor elementum lacinia. Fusce libero nunc, efficitur id sem vitae, elementum rutrum velit. Donec imperdiet accumsan massa, eget facilisis tellus volutpat vitae. Nulla at diam sit amet est pulvinar vulputate. Integer eu semper arcu. Mauris tincidunt fermentum nibh vel dapibus. Cras lectus velit, suscipit sed risus sit amet, scelerisque tempus massa.",
                "Vestibulum pretium tempor placerat. In eu nulla pharetra, varius tortor non, ullamcorper nulla. Praesent non leo non velit fermentum egestas. Mauris lacus sapien, cursus sit amet sagittis vel, fringilla eget orci. Aliquam condimentum volutpat lobortis. Mauris hendrerit non ligula vel viverra. Donec malesuada arcu augue, ac vulputate mauris eleifend quis. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae;"};
        if(this.count() == 0){
            // create errors
            Object[][] stackTraces = {
                    {"FED4F6BD528E72CEFAD4F16B26C8892B", "2016-11-27 08:58:30.11", "BeanValidationException: Validation failed", "com.restdude.util.exception.http.BeanValidationException: Validation failed\n	at com.restdude.mdd.service.AbstractBaseServiceImpl.validate(AbstractBaseServiceImpl.java:329)\n	at com.restdude.mdd.service.AbstractBaseServiceImpl.create(AbstractBaseServiceImpl.java:85)\n	at com.restdude.domain.users.service.impl.UserServiceImpl.create(UserServiceImpl.java:132)\n	at com.restdude.domain.users.service.impl.UserServiceImpl.create(UserServiceImpl.java:54)\n	at sun.reflect.GeneratedMethodAccessor143.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n	at com.sun.proxy.$Proxy180.create(Unknown Source)\n	at com.restdude.auth.userAccount.controller.UserAccountController.create(UserAccountController.java:105)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)\n	at com.restdude.web.filters.RestRequestNormalizerFilter.doFilterInternal(RestRequestNormalizerFilter.java:94)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)\n	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:225)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)\n	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)\n	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)\n	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)\n	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:118)\n	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n	at org.eclipse.jetty.server.Server.handle(Server.java:550)\n	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)\n	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)\n	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)\n	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)\n	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)\n	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)\n	at java.lang.Thread.run(Thread.java:745)",
                            new SystemError.Builder().remoteAddress("127.0.0.1").title("Validation failed").httpStatusCode(400).requestMethod("POST").requestUrl("/api/auth/account").build()},
                    {"5E7FE914483854E95273AB4D072A5D47", "2016-11-27 08:58:30.58", "InvalidCredentialsException: Invalid credentials", "com.restdude.util.exception.http.InvalidCredentialsException: Invalid credentials\n	at com.restdude.auth.userdetails.service.impl.UserDetailsServiceImpl.create(UserDetailsServiceImpl.java:137)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n	at com.sun.proxy.$Proxy183.create(Unknown Source)\n	at com.restdude.auth.userdetails.controller.UserDetailsController.create(UserDetailsController.java:77)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)\n	at com.restdude.web.filters.RestRequestNormalizerFilter.doFilterInternal(RestRequestNormalizerFilter.java:94)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)\n	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:225)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)\n	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)\n	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)\n	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)\n	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:118)\n	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n	at org.eclipse.jetty.server.Server.handle(Server.java:550)\n	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)\n	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)\n	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)\n	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)\n	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)\n	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)\n	at java.lang.Thread.run(Thread.java:745)\n",
                            new SystemError.Builder().remoteAddress("127.0.0.1").title("Invalid credentials").httpStatusCode(401).requestMethod("POST").requestUrl("/api/auth/userDetails").build()},
                    {"9D3A69A716684719B3AE0027A30787F2", "2016-11-27 08:58:30.861", "InvalidCredentialsException: Not authenticated", "com.restdude.util.exception.http.InvalidCredentialsException: Not authenticated\n	at com.restdude.auth.userdetails.controller.UserDetailsController.remember(UserDetailsController.java:98)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)\n	at com.restdude.web.filters.RestRequestNormalizerFilter.doFilterInternal(RestRequestNormalizerFilter.java:92)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)\n	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:225)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)\n	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)\n	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)\n	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)\n	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:118)\n	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n	at org.eclipse.jetty.server.Server.handle(Server.java:550)\n	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)\n	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)\n	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)\n	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)\n	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)\n	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)\n	at java.lang.Thread.run(Thread.java:745)\n",
                            new SystemError.Builder().remoteAddress("127.0.0.1").title("Validation failed").httpStatusCode(400).requestMethod("POST").requestUrl("/api/auth/account").build()},
                    {"3DB9455CDB853B1FAF3D70D693464979", "2016-11-27 08:58:31.948", "NotFoundException: Not Found", "com.restdude.util.exception.http.NotFoundException: Not Found\n	at com.restdude.domain.base.controller.AbstractPersistableModelController.findById(AbstractPersistableModelController.java:173)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at com.restdude.web.filters.RestRequestNormalizerFilter.doFilterInternal(RestRequestNormalizerFilter.java:92)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)\n	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:225)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)\n	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)\n	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)\n	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)\n	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:118)\n	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n	at org.eclipse.jetty.server.Server.handle(Server.java:550)\n	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)\n	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)\n	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)\n	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)\n	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)\n	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)\n	at java.lang.Thread.run(Thread.java:745)\n",
                            new SystemError.Builder().remoteAddress("127.0.0.1").title("Not Found").httpStatusCode(404).requestMethod("GET").requestUrl("/api/rest/users/invalid").build()},
                    {"BD4A0EB9D059D28E617EB6B0A56ED198", "2016-11-27 08:58:32.509", "NullPointerException: ", "java.lang.NullPointerException\n	at com.restdude.domain.friends.service.impl.FriendshipServiceImpl.saveSingle(FriendshipServiceImpl.java:147)\n	at com.restdude.domain.friends.service.impl.FriendshipServiceImpl.saveRelationship(FriendshipServiceImpl.java:125)\n	at com.restdude.domain.friends.service.impl.FriendshipServiceImpl.create(FriendshipServiceImpl.java:37)\n	at com.restdude.domain.friends.service.impl.FriendshipServiceImpl.create(FriendshipServiceImpl.java:23)\n	at sun.reflect.GeneratedMethodAccessor143.invoke(Unknown Source)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)\n	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n	at com.sun.proxy.$Proxy242.create(Unknown Source)\n	at com.restdude.domain.base.controller.AbstractPersistableModelController.create(AbstractPersistableModelController.java:98)\n	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n	at java.lang.reflect.Method.invoke(Method.java:498)\n	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)\n	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)\n	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:114)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:838)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1550)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at com.restdude.web.filters.RestRequestNormalizerFilter.doFilterInternal(RestRequestNormalizerFilter.java:92)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n	at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n	at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1529)\n	at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:225)\n	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1537)\n	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\n	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1589)\n	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1213)\n	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:487)\n	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1552)\n	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1126)\n	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:213)\n	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:118)\n	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n	at org.eclipse.jetty.server.Server.handle(Server.java:550)\n	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:321)\n	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:254)\n	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:269)\n	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:97)\n	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:102)\n	at org.eclipse.jetty.util.thread.strategy.ExecutingExecutionStrategy.invoke(ExecutingExecutionStrategy.java:58)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:201)\n	at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:133)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:672)\n	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:590)\n	at java.lang.Thread.run(Thread.java:745)\n",
                            new SystemError.Builder().remoteAddress("127.0.0.1").title("Internal Server Error").httpStatusCode(500).requestMethod("POST").requestUrl("/api/rest/friendships").build()}};
            LocalDateTime now = LocalDateTime.now();
            ErrorsApplication app = this.getErrorApplication();
            for (int i = 0; i < stackTraces.length; i++) {
                Object[] stackTrace = stackTraces[i];
                ErrorLog st = this.getErrorLogService().create(new ErrorLog(stackTrace[2].toString(), stackTrace[3].toString()));
                SystemError error = (SystemError) stackTrace[4];
                error.setErrorLog(st);
                error = this.create(error);
                for(int j = 0; j < lorem.length; j++){
                    this.errorCommentRepository.persist(new ErrorComment(error, lorem[j]));
                }
            }

        }


    }

}